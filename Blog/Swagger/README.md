## 📢 Khám phá Swagger – Công cụ không thể thiếu trong phát triển API hiện đại! 🚀

Nếu bạn là một lập trình viên hoặc đang làm việc với các API, chắc chắn bạn sẽ không thể bỏ qua Swagger, một bộ công cụ mạnh mẽ giúp bạn thiết kế, tài liệu hóa và thử nghiệm API một cách dễ dàng và hiệu quả. Cùng tìm hiểu chi tiết về Swagger qua bài viết này! 🔍👇

### 🎯 Swagger là gì?

Swagger là một bộ công cụ mã nguồn mở giúp tạo, tài liệu hóa và thử nghiệm API. Swagger giúp bạn mô tả API theo chuẩn OpenAPI Specification (OAS), làm cho việc giao tiếp giữa các hệ thống trở nên dễ dàng và hiệu quả hơn. Bộ công cụ bao gồm:

- Swagger Editor 📝: Giúp bạn thiết kế và chỉnh sửa API theo định dạng YAML hoặc JSON.
  Swagger UI 🌐: Cung cấp giao diện người dùng giúp hiển thị và thử nghiệm API trực tiếp trên trình duyệt.
- Swagger Codegen 🔨: Tự động sinh mã nguồn cho các API dựa trên tài liệu API đã thiết kế.
- SwaggerHub 💼: Công cụ hợp tác cho các nhóm phát triển API.

### 🌟 Ưu điểm nổi bật của Swagger:

1. Thiết kế API dễ dàng với Swagger Editor
   Swagger Editor cho phép bạn tạo và chỉnh sửa tài liệu API ngay trên trình duyệt. Bạn có thể thiết kế API với cú pháp OpenAPI (YAML/JSON) mà không cần phải lo lắng về việc sai cú pháp.
   Nó hỗ trợ tự động hoàn thành và kiểm tra cú pháp trong thời gian thực, giúp bạn dễ dàng chỉnh sửa và duy trì tài liệu API chính xác.

   📌 Ví dụ: Khi bạn thiết kế một API để quản lý người dùng, Swagger Editor giúp bạn mô tả các endpoint như GET /users, POST /users và chi tiết các tham số yêu cầu.

2. Dễ dàng tài liệu hóa API với Swagger UI
   Swagger UI cung cấp giao diện người dùng đẹp mắt và dễ sử dụng, giúp hiển thị tài liệu API một cách trực quan và sinh động.
   Với Swagger UI, bạn có thể thử nghiệm các endpoint API ngay lập tức, mà không cần phải viết mã client hay thực hiện gọi HTTP thủ công.

   📌 Ví dụ: Khi sử dụng Swagger UI, bạn có thể nhập tham số và thử nghiệm ngay các yêu cầu API như POST /users để tạo người dùng mới, tất cả trong một giao diện đơn giản, dễ dàng.

3. Tạo mã nguồn tự động với Swagger Codegen
   Swagger Codegen giúp bạn tự động sinh mã nguồn máy khách và máy chủ cho nhiều ngôn ngữ lập trình khác nhau, như Java, Python, Node.js, Ruby, và nhiều hơn nữa.
   Bạn chỉ cần cung cấp tài liệu API, và Swagger Codegen sẽ tạo mã nguồn sẵn sàng sử dụng.

   📌 Ví dụ: Khi bạn cần một máy chủ Node.js cho API, bạn có thể dùng Swagger Codegen để tạo mã nguồn Node.js từ tài liệu Swagger đã có. Điều này tiết kiệm rất nhiều thời gian phát triển.

4. Hợp tác và kiểm soát phiên bản với SwaggerHub
   SwaggerHub là công cụ hỗ trợ hợp tác cho các nhóm phát triển API. Nó giúp các nhóm làm việc cùng nhau để thiết kế API và duy trì tài liệu API ở một nơi tập trung, dễ dàng quản lý.
   SwaggerHub còn hỗ trợ quản lý phiên bản và tích hợp CI/CD, giúp duy trì tính nhất quán giữa các phiên bản API và tự động hóa quy trình phát triển.

   📌 Ví dụ: Trong một dự án lớn với nhiều nhóm làm việc trên các dịch vụ khác nhau, SwaggerHub giúp tất cả các nhóm đồng bộ hóa tài liệu API và đảm bảo rằng mọi thay đổi đều được theo dõi và kiểm tra kỹ lưỡng.

### ⚠️ Những hạn chế của Swagger

Mặc dù Swagger mang lại rất nhiều lợi ích, nhưng nó cũng có một số hạn chế:

1. Độ chính xác của tài liệu API phụ thuộc vào người phát triển
   Nếu tài liệu Swagger không được duy trì và cập nhật thường xuyên, Swagger UI có thể hiển thị sai thông tin hoặc thiếu các endpoint quan trọng.
2. Không hỗ trợ đầy đủ các API phức tạp
   Swagger chủ yếu hỗ trợ API RESTful và chưa hỗ trợ đầy đủ cho các giao thức như WebSocket, gRPC, hoặc các luồng công việc phức tạp.
3. Cần kiến thức về OpenAPI Specification
   Để sử dụng Swagger hiệu quả, bạn cần có hiểu biết về OpenAPI Specification (OAS) và cú pháp YAML/JSON.

### 🔄 Ứng dụng thực tế của Swagger

Tài liệu hóa API cho các dịch vụ web: Swagger giúp các công ty như Netflix, Uber, và Airbnb tạo tài liệu API cho các dịch vụ web phức tạp của họ.
Tạo mã nguồn máy khách tự động: Các công ty phát triển SDK hoặc ứng dụng di động sử dụng Swagger để tự động tạo mã nguồn cho các máy khách API.
Hợp tác trong nhóm phát triển: Các công ty phần mềm sử dụng SwaggerHub để các nhóm phát triển API có thể làm việc đồng bộ và hiệu quả.

### 🔖 Tài nguyên hữu ích

- Trang chủ: Swagger.io
- Swagger Editor: Editor.swagger.io
- SwaggerHub: SwaggerHub

Tài liệu chính thức: Swagger Docs

### 🔥 Springdoc OpenAPI 3 – chuẩn nhất, tích hợp với Swagger UI siêu đẹp!

```
<!-- https://mvnrepository.com/.../springdoc-openapi-starter... -->
<dependency>
    <groupId>org.springdoc</groupId>
    <artifactId>springdoc-openapi-starter-webmvc-ui</artifactId>
    <version>2.8.6</version>
</dependency>
```

🔁 Tự động đọc annotation từ @RestController, @RequestMapping, @Schema, @Parameter... giúp document luôn được cập nhật.

### 📘 Cấu trúc một tài liệu API chuẩn theo OpenAPI 3.0

#### 📝 A. Thông tin chung – @OpenAPIDefinition

```java
@OpenAPIDefinition(
  info = @Info(
    title = "User API",
    description = "API quản lý người dùng",
    version = "1.0.0"
  )
)
@SpringBootApplication
public class MyApp {}
```

📌 Hiển thị trên tiêu đề Swagger UI.

#### 🌐 B. Server URL => cấu hình ở application.yaml (hoặc .properties , vv )

```yaml
servers:
  - url: http://localhost:8080
    description: Server phát triển local
```

📌 Swagger sẽ dùng URL này để gọi thử API.

#### 🔧 C. Endpoint + HTTP Method – @Operation

```java
@Operation(
summary = "Lấy danh sách người dùng",
description = "Trả về tất cả người dùng trong hệ thống"
)
@GetMapping("/users")
public List<UserResponse> getAllUsers() {
return userService.findAll();
}
```

📌 Summary: hiển thị ngắn gọn  
📌 Description: mô tả đầy đủ hơn

#### 📤 D. Response – @ApiResponse

```java
@Operation(summary = "Lấy người dùng theo ID")
@ApiResponses(value = {
@ApiResponse(responseCode = "200", description = "Lấy thành công",
content = @Content(schema = @Schema(implementation = UserResponse.class))
),
@ApiResponse(responseCode = "404", description = "Không tìm thấy người dùng"),
@ApiResponse(responseCode = "500", description = "Lỗi hệ thống")
})
@GetMapping("/users/{id}")
public UserResponse getUser(@PathVariable Long id) {
    return userService.getUserById(id);
}
```

📌 Giúp Swagger hiển thị đầy đủ các mã trạng thái có thể xảy ra.<br>📌 @ApiResponse là bắt buộc phải có nếu muốn docs đẹp – giúp tester & FE hiểu rõ hơn.

#### F. Schema – mô tả DTO, request , vv

```java
@Schema(description = "Thông tin người dùng trả về")
public class UserResponse {
@Schema(description = "ID người dùng", example = "1")
private Long id;
@Schema(description = "Tên người dùng", example = "Nguyễn Văn A")
private String name;
}
```

📌 Hiển thị từng field rõ ràng kèm ví dụ.

#### 🔐 G. Security – @SecurityRequirement

```java
@Operation(
    summary = "Cập nhật người dùng",
    security = @SecurityRequirement(name = "bearerAuth")
)
@PutMapping("/users/{id}")
public UserResponse updateUser(@PathVariable Long id, @RequestBody UpdateUserRequest req) {
    return userService.update(id, req);
}
⚙️ Cấu hình thêm trong file cấu hình OpenAPI:
@SecurityScheme(
    name = "bearerAuth",
    type = SecuritySchemeType.HTTP,
    scheme = "bearer",
    bearerFormat = "JWT"
)
```

📌 Swagger tự bật nút "Authorize" để nhập token JWT.

#### 🏷 H. Tags – Nhóm API theo chuyên mục

```java
@Tag(name = "User Controller", description = "Quản lý người dùng")
@RestController
@RequestMapping("/users")
public class UserController { ... }
```

📌 Hiển thị nhóm trong Swagger UI để dễ phân loại các API.  
📘 Nguồn tham khảo mới nhất:  
🌐 https://springdoc.org  
📦 springdoc-openapi-starter-webmvc-ui:2.5.0 – cập nhật tháng 3/2025  
📁 GitHub mẫu: https://github.com/springdoc/springdoc-openapi
